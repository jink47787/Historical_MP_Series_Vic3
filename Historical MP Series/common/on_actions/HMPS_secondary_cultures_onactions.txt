###### if adding new secondary_cultures, make sure to update 
#	HMPS_handle_secondary_cultures (this file)
#	HMPS_revolution_inherit_secondary_cultures_modifier (this file)
#	Historical MP Series\localization\english\0_HMPS_secondary_culture_modifiers_l_english.yml
#	Historical MP Series\common\static_modifiers\z_HMPS_secondary_culture_modifiers.txt
#	Historical MP Series\common\history\global\HMPS_secondary_cultures.txt (if you wanna have a tag start with it)

on_monthly_pulse_country = {
	on_actions = {
		HMPS_handle_secondary_cultures
	}
}
on_revolution_start = {
	on_actions  = {
		HMPS_revolution_inherit_secondary_cultures_modifier
	}
}

HMPS_handle_secondary_cultures = { #Country Scope
	effect = {
		if = {
			limit = {
				OR = {
					#################### Secondary Cultures - Single Cultures (alphabetical order)
					has_modifier = secondary_culture_aborigine
					has_modifier = secondary_culture_afro_american
					has_modifier = secondary_culture_ashkenazi
					has_modifier = secondary_culture_azerbaijani
					has_modifier = secondary_culture_byelorussian
					has_modifier = secondary_culture_czech
					has_modifier = secondary_culture_polish
					has_modifier = secondary_culture_ukrainian
					
					#################### Secondary Cultures - Cultural Traits (alphabetical order)
					has_modifier = secondary_culture_baltic_culture_group
					has_modifier = secondary_culture_beneluxian_culture_group
					has_modifier = secondary_culture_jewish_group
					has_modifier = secondary_culture_jugoslav
					has_modifier = secondary_culture_malay_culture
					has_modifier = secondary_culture_scandinavian_culture_group
					has_modifier = secondary_culture_southern_african_culture_group
					
					#################### Secondary Cultures - Heritage Traits (alphabetical order)
					has_modifier = secondary_culture_african_heritage
					has_modifier = secondary_culture_central_asian_heritage
					has_modifier = secondary_culture_east_asian_heritage
					has_modifier = secondary_culture_european_heritage
					has_modifier = secondary_culture_indigenous_american_heritage
					has_modifier = secondary_culture_indigenous_oceanic_heritage
					has_modifier = secondary_culture_middle_eastern_heritage
					has_modifier = secondary_culture_north_asian_heritage
					has_modifier = secondary_culture_south_asian_heritage
					has_modifier = secondary_culture_southeast_asian_heritage
					
					#################### Stigmatised Cultures - Single Cultures (alphabetical order)
					has_modifier = stigmatised_culture_afro_american
					has_modifier = stigmatised_culture_irish
					
					#################### Stigmatised Cultures - Cultural Traits (alphabetical order)
					has_modifier = stigmatised_culture_han_chinese
					has_modifier = stigmatised_culture_jewish_group
					
					#################### Stigmatised Cultures - Heritage Traits (alphabetical order)
					
				}
			}
			every_scope_culture = {
				if = { ############################ Secondary Cultures ############################
					limit = {
						OR = {
							#################### Secondary Cultures - Single Cultures (alphabetical order)
							AND = { root = { has_modifier = secondary_culture_aborigine } this = cu:aborigine }
							AND = { root = { has_modifier = secondary_culture_afro_american } this = cu:afro_american }
							AND = { root = { has_modifier = secondary_culture_azerbaijani } this = cu:azerbaijani }
							AND = { root = { has_modifier = secondary_culture_ashkenazi } this = cu:ashkenazi }
							AND = { root = { has_modifier = secondary_culture_byelorussian } this = cu:byelorussian }
							AND = { root = { has_modifier = secondary_culture_czech } this = cu:czech }
							AND = { root = { has_modifier = secondary_culture_polish } this = cu:polish }
							AND = { root = { has_modifier = secondary_culture_ukrainian } this = cu:ukrainian }
							
							#################### Secondary Cultures - Cultural Traits (alphabetical order)
							AND = { root = { has_modifier = secondary_culture_baltic_culture_group } has_discrimination_trait = baltic_culture_group }
							AND = { root = { has_modifier = secondary_culture_beneluxian_culture_group } has_discrimination_trait = beneluxian_culture_group }
							AND = { root = { has_modifier = secondary_culture_jewish_group } has_discrimination_trait = jewish_group }
							AND = { root = { has_modifier = secondary_culture_jugoslav } has_discrimination_trait = jugoslav }
							AND = { root = { has_modifier = secondary_culture_malay_culture } has_discrimination_trait = malay_culture }
							AND = { root = { has_modifier = secondary_culture_scandinavian_culture_group } has_discrimination_trait = scandinavian_culture_group }
							AND = { root = { has_modifier = secondary_culture_southern_african_culture_group } has_discrimination_trait = southern_african_culture_group }
							
							#################### Secondary Cultures - Heritage Traits (alphabetical order)
							AND = { root = { has_modifier = secondary_culture_african_heritage } has_discrimination_trait = african_heritage }
							AND = { root = { has_modifier = secondary_culture_central_asian_heritage } has_discrimination_trait = central_asian_heritage }
							AND = { root = { has_modifier = secondary_culture_east_asian_heritage } has_discrimination_trait = east_asian_heritage }
							AND = { root = { has_modifier = secondary_culture_european_heritage } has_discrimination_trait = european_heritage }
							AND = { root = { has_modifier = secondary_culture_indigenous_american_heritage } has_discrimination_trait = indigenous_american_heritage }
							AND = { root = { has_modifier = secondary_culture_indigenous_oceanic_heritage } has_discrimination_trait = indigenous_oceanic_heritage }
							AND = { root = { has_modifier = secondary_culture_middle_eastern_heritage } has_discrimination_trait = middle_eastern_heritage }
							AND = { root = { has_modifier = secondary_culture_north_asian_heritage } has_discrimination_trait = north_asian_heritage }
							AND = { root = { has_modifier = secondary_culture_south_asian_heritage } has_discrimination_trait = south_asian_heritage }
							AND = { root = { has_modifier = secondary_culture_southeast_asian_heritage } has_discrimination_trait = southeast_asian_heritage }
						}
					}
					save_scope_as = secondary_culture
					root = {
						every_scope_state = {
							if = {
								limit = { has_cultural_community = scope:secondary_culture }
								add_acceptance = { target = scope:secondary_culture value = { add = 20.5 subtract = "cultural_acceptance_delta(scope:secondary_culture)" } }
							}
						}
					}
				}
				else_if = { ############################ Stigmatised Cultures ############################
					limit = {
						OR = {
							#################### Stigmatised Cultures - Heritage Traits (alphabetical order)
							AND = { root = { has_modifier = stigmatised_culture_afro_american } this = cu:afro_american }
							AND = { root = { has_modifier = stigmatised_culture_irish } this = cu:irish }
							
							#################### Stigmatised Cultures - Cultural Traits (alphabetical order)
							AND = { root = { has_modifier = stigmatised_culture_han_chinese } has_discrimination_trait = han_chinese }
							AND = { root = { has_modifier = stigmatised_culture_jewish_group } has_discrimination_trait = jewish_group }
							
							#################### Stigmatised Cultures - Heritage Traits (alphabetical order)
						}
					}
					save_scope_as = secondary_culture
					root = {
						every_scope_state = {
							if = {
								limit = { has_cultural_community = scope:secondary_culture }
								add_acceptance = { target = scope:secondary_culture value = { add = -20.5 subtract = "cultural_acceptance_delta(scope:secondary_culture)" } }
							}
						}
					}
				}
			}
	 	}
	}
}

HMPS_revolution_inherit_secondary_cultures_modifier = {
	effect  = {
		#################### Secondary Cultures - Single Cultures (alphabetical order)
        if = { limit = { root = { has_modifier = secondary_culture_aborigine                        } } scope:target = { add_modifier = secondary_culture_aborigine                        } }
        if = { limit = { root = { has_modifier = secondary_culture_afro_american                    } } scope:target = { add_modifier = secondary_culture_afro_american                    } }
        if = { limit = { root = { has_modifier = secondary_culture_ashkenazi                        } } scope:target = { add_modifier = secondary_culture_ashkenazi                        } }
        if = { limit = { root = { has_modifier = secondary_culture_azerbaijani                      } } scope:target = { add_modifier = secondary_culture_azerbaijani                      } }
        if = { limit = { root = { has_modifier = secondary_culture_byelorussian                     } } scope:target = { add_modifier = secondary_culture_byelorussian                     } }
        if = { limit = { root = { has_modifier = secondary_culture_czech                            } } scope:target = { add_modifier = secondary_culture_czech                            } }
        if = { limit = { root = { has_modifier = secondary_culture_polish                           } } scope:target = { add_modifier = secondary_culture_polish                           } }
        if = { limit = { root = { has_modifier = secondary_culture_ukrainian                        } } scope:target = { add_modifier = secondary_culture_ukrainian                        } }
					
		#################### Secondary Cultures - Cultural Traits (alphabetical order)
        if = { limit = { root = { has_modifier = secondary_culture_baltic_culture_group             } } scope:target = { add_modifier = secondary_culture_baltic_culture_group             } }
        if = { limit = { root = { has_modifier = secondary_culture_beneluxian_culture_group         } } scope:target = { add_modifier = secondary_culture_beneluxian_culture_group         } }
        if = { limit = { root = { has_modifier = secondary_culture_jewish_group                     } } scope:target = { add_modifier = secondary_culture_jewish_group                     } }
        if = { limit = { root = { has_modifier = secondary_culture_jugoslav                         } } scope:target = { add_modifier = secondary_culture_jugoslav                         } }
        if = { limit = { root = { has_modifier = secondary_culture_malay_culture                    } } scope:target = { add_modifier = secondary_culture_malay_culture                    } }
        if = { limit = { root = { has_modifier = secondary_culture_scandinavian_culture_group       } } scope:target = { add_modifier = secondary_culture_scandinavian_culture_group       } }
        if = { limit = { root = { has_modifier = secondary_culture_southern_african_culture_group   } } scope:target = { add_modifier = secondary_culture_southern_african_culture_group   } }
					
		#################### Secondary Cultures - Heritage Traits (alphabetical order)
        if = { limit = { root = { has_modifier = secondary_culture_african_heritage                 } } scope:target = { add_modifier = secondary_culture_african_heritage                 } }
        if = { limit = { root = { has_modifier = secondary_culture_central_asian_heritage           } } scope:target = { add_modifier = secondary_culture_central_asian_heritage           } }
        if = { limit = { root = { has_modifier = secondary_culture_east_asian_heritage              } } scope:target = { add_modifier = secondary_culture_east_asian_heritage              } }
        if = { limit = { root = { has_modifier = secondary_culture_european_heritage                } } scope:target = { add_modifier = secondary_culture_european_heritage                } }
        if = { limit = { root = { has_modifier = secondary_culture_indigenous_american_heritage     } } scope:target = { add_modifier = secondary_culture_indigenous_american_heritage     } }
        if = { limit = { root = { has_modifier = secondary_culture_indigenous_oceanic_heritage      } } scope:target = { add_modifier = secondary_culture_indigenous_oceanic_heritage      } }
        if = { limit = { root = { has_modifier = secondary_culture_middle_eastern_heritage          } } scope:target = { add_modifier = secondary_culture_middle_eastern_heritage          } }
        if = { limit = { root = { has_modifier = secondary_culture_north_asian_heritage             } } scope:target = { add_modifier = secondary_culture_north_asian_heritage             } }
        if = { limit = { root = { has_modifier = secondary_culture_south_asian_heritage             } } scope:target = { add_modifier = secondary_culture_south_asian_heritage             } }
        if = { limit = { root = { has_modifier = secondary_culture_southeast_asian_heritage         } } scope:target = { add_modifier = secondary_culture_southeast_asian_heritage         } }
					
		#################### Stigmatised Cultures - Single Cultures (alphabetical order)
        if = { limit = { root = { has_modifier = stigmatised_culture_afro_american                  } } scope:target = { add_modifier = stigmatised_culture_afro_american                  } }
        if = { limit = { root = { has_modifier = stigmatised_culture_irish                          } } scope:target = { add_modifier = stigmatised_culture_irish                          } }
					
		#################### Stigmatised Cultures - Cultural Traits (alphabetical order)
        if = { limit = { root = { has_modifier = stigmatised_culture_han_chinese                    } } scope:target = { add_modifier = stigmatised_culture_han_chinese                    } }
        if = { limit = { root = { has_modifier = stigmatised_culture_jewish_group                   } } scope:target = { add_modifier = stigmatised_culture_jewish_group                   } }
					
		#################### Stigmatised Cultures - Heritage Traits (alphabetical order)
	}
}