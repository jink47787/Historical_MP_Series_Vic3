namespace = set_hierarchy_event


set_hierarchy_event.1 = {
	type = country_event
	hidden = yes

	trigger = {
		has_social_hierarchy = default_social_hierarchy
		any_scope_state = {
			OR = {
				is_incorporated = yes
				state_population >= 1000000
			}
			religion_percent_state = {
				target = rel:hindu
				value >= 0.25
			}
		}
	}

	immediate = { # Replaces the default hierarchy and sets the Caste Not Enforced law
		owner = {
			save_scope_as = relevant_country_scope
		}
		set_social_hierarchy = british_indian_caste_system
		activate_law = law_type:law_hindu_caste_not_enforced
		post_notification = caste_hierarchy_appears
	}

}


set_hierarchy_event.2 = {
	type = country_event
	hidden = yes

	trigger = {
		has_social_hierarchy = british_indian_caste_system
		NOT = {
			any_scope_state = {
				OR = {
					is_incorporated = yes
					state_population >= 900000
				}
				religion_percent_state = {
					target = rel:hindu
					value >= 0.20
				}
			}
		}
	}

	immediate = { # Replaces the British Indian Caste System
		owner = {
			save_scope_as = relevant_country_scope
		}
		set_social_hierarchy = default_social_hierarchy
		post_notification = caste_hierarchy_disappears
	}

}
