namespace = independence

# Startup event
independence.1 = {
	type = country_event
	placement = root

	duration = 3

	title = independence.1.t
	desc = independence.1.d
	flavor = independence.1.f

    event_image = {
		video = "asia_sepoy_mutiny"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
		# Triggered by on_action
	}

	cancellation_trigger = {
		is_subject = yes
	}

	immediate = {
		civil_war_origin_country = {
			save_scope_as = former_colonial_government
			overlord ?= {
				save_scope_as = former_colonial_overlord
			}
		}
	}

	option = {
		name = independence.1.a
		default_option = yes
		activate_law = law_type:law_republic
		activate_law = law_type:law_parliamentary_system
	}

	option = {
		name = independence.1.b
		activate_law = law_type:law_republic
		activate_law = law_type:law_independent_executive
	}

	option = {
		name = independence.1.c
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_monarchy
					value >= approve
				}
			}
		}
		activate_law = law_type:law_monarchy
	}

	option = {
		name = independence.1.e
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_technocracy
					value >= approve
				}
			}
		}
		activate_law = law_type:law_technocracy
	}

	option = {
		name = independence.1.g
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_council_republic
					value >= approve
				}
			}
		}
		activate_law = law_type:law_council_republic
	}

	option = {
		name = independence.1.h
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_theocracy
					value >= approve
				}
			}
		}
		activate_law = law_type:law_theocracy
	}

	after = {
		hidden_effect = {
			set_country_type = recognized
		}
	}
}

independence.2 = {
	type = country_event
	placement = root

	duration = 3

	title = independence.2.t
	desc = independence.2.d
	flavor = independence.2.f

    event_image = {
		video = "ip4_abdication"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
		# Triggered by on_action
	}

	cancellation_trigger = {
		is_subject = yes
	}

	immediate = {

	}

	option = {
		name = independence.2.a
		default_option = yes
		activate_law = law_type:law_republic
		activate_law = law_type:law_parliamentary_system
	}

	option = {
		name = independence.2.b
		activate_law = law_type:law_republic
		activate_law = law_type:law_independent_executive
	}

	option = {
		name = independence.2.c
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_monarchy
					value >= approve
				}
			}
		}
		activate_law = law_type:law_monarchy
	}

	option = {
		name = independence.2.e
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_technocracy
					value >= approve
				}
			}
		}
		activate_law = law_type:law_technocracy
	}

	option = {
		name = independence.2.g
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_council_republic
					value >= approve
				}
			}
		}
		activate_law = law_type:law_council_republic
	}

	option = {
		name = independence.2.h
		trigger = {
			any_interest_group = {
				is_in_government = yes
				is_strongest_ig_in_government = yes
				law_stance = {
					law = law_type:law_theocracy
					value >= approve
				}
			}
		}
		activate_law = law_type:law_theocracy
	}

	after = {
		hidden_effect = {
			set_country_type = recognized
		}
	}
}
