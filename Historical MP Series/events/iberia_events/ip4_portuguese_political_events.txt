namespace = devorismo

# Devorismo - Cartist Victory
devorismo.1 = {
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = devorismo.1.t
	desc = devorismo.1.d
	flavor = devorismo.1.f

    event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		ordered_interest_group = {
			limit = {
				is_in_government = yes
			}
			order_by = ig_clout
			position = 0
			check_range_bounds = no
			save_scope_as = ruling_ig
			leader = {
				save_scope_as = pm_scope
				set_character_immortal = yes
			}
		}
	}

	option = {
		name = devorismo.1.a
		default_option = yes
		add_loyalists = {
			pop_type = capitalists
			value = large_radicals
		}
		add_modifier = {
			name = modifier_financial_prudence
			days = long_modifier_time
		}
	}

	option = {
		name = devorismo.1.b
		add_loyalists = {
			strata = middle
			value = large_radicals
		}
		every_interest_group = {
			limit = {
				is_in_government = yes
			}
			add_modifier = {
				name = modifier_restorers_of_morality
				days = long_modifier_time
			}
		}
	}

	after = {
		hidden_effect = {
			scope:pm_scope ?= {
				set_character_immortal = no
			}
		}
	}
}

# Devorismo - September Revolution
devorismo.2 = {
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = devorismo.2.t
	desc = devorismo.2.d
	flavor = devorismo.2.f

    event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		set_variable = { name = portugal_revolution_month value = month }
		random_political_movement = {
			limit = {
				OR = {
					movement_is_socialist = yes
					movement_is_liberal = yes
				}
				is_insurrectionary = yes
			}
			save_scope_as = relevant_movement
		}
		hidden_effect = {
			ig:ig_intelligentsia ?= {
				set_variable = ig_to_take_power
			}
		}
	}

	option = {
		name = devorismo.2.a
		default_option = yes
		hidden_effect = { # To immediately reduce revolution radicalism
			set_immune_to_revolutions = yes
			cancel_enactment = yes
			start_enactment = law_type:law_wealth_voting
		}
		if = {
			limit = {
				any_interest_group = {
					has_ideology = ideology:ideology_cartist
					is_in_government = yes
				}
			}
			random_interest_group ?= {
				limit = {
					has_ideology = ideology:ideology_cartist
					is_in_government = yes
				}
				leader = {
					exile_character = yes
				}
			}
			create_character = {
				template = POR_antonio_bernardo_da_costa_cabral
			}
		}
		capital = {
			add_loyalists_in_state = {
				value = medium_radicals
			}
		}
		activate_law = law_type:law_wealth_voting
		call_election = {
			months = 2 # je_devorismo_election_months
		}
		show_as_tooltip = {
			every_interest_group = {
				limit = {
					is_in_government = yes
					NOT = {
						has_variable = ig_to_take_power
					}
				}
				remove_ruling_interest_group = yes
				add_modifier = {
					name = modifier_revolution_defeated_light
					months = 12
					is_decaying = yes
				}
			}
			every_interest_group = {
				limit = {
					has_variable = ig_to_take_power
				}
				if = {
					limit = {
						is_insurrectionary = yes
					}
					abandon_revolution = yes
				}
				if = {
					limit = {
						has_party = yes
					}
					party ?= {
						set_ruling_party = yes
					}
				}
				else = {
					add_ruling_interest_group = yes
				}
			}
		}
		hidden_effect = {
			scope:relevant_movement ?= {
				if = {
					limit = {
						has_modifier = modifier_shuttered_camilos_club
					}
					remove_modifier = modifier_shuttered_camilos_club
				}
				if = {
					limit = {
						has_modifier = modifier_untouched_camilos_club
					}
					remove_modifier = modifier_untouched_camilos_club
				}
				if = {
					limit = {
						has_modifier = modifier_burning_of_the_treasury
					}
					remove_modifier = modifier_burning_of_the_treasury
				}
			}
			after_revolution_technical_effect = yes
		}
	}

	option = {
		name = devorismo.2.b
		random_civil_war = {
			add_civil_war_progress = revolution_advance_large
		}
		scope:relevant_movement ?= {
			add_modifier = {
				name = modifier_september_revolution_radicalism
				days = short_modifier_time
			}
		}
	}
}

# Devorismo - Lisbon Patriotic Society
devorismo.3 = {
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = devorismo.3.t
	desc = devorismo.3.d
	flavor = devorismo.3.f

    event_image = {
		video = "ep1_clandestine_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		any_scope_character = {
			is_interest_group_type = ig_intelligentsia
		}
		any_scope_character = {
			is_interest_group_type = ig_trade_unions
		}
		any_interest_group = {
			is_in_government = yes
			law_stance = {
				law = law_type:law_censorship
				value >= approve
			}
		}
		any_political_movement = {
			OR = {
				movement_is_socialist = yes
				movement_is_liberal = yes
			}
		}
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		capital = {
			save_scope_as = capital_scope
		}
		random_scope_character = {
			limit = {
				is_interest_group_type = ig_intelligentsia
			}
			save_scope_as = intelligentsia_ig_char
			set_character_immortal = yes
		}
		random_scope_character = {
			limit = {
				is_interest_group_type = ig_trade_unions
			}
			save_scope_as = trade_unions_ig_char
			set_character_immortal = yes
		}
	}

	option = {
		name = devorismo.3.a
		default_option = yes
		ordered_political_movement = {
			limit = {
				OR = {
					movement_is_socialist = yes
					movement_is_liberal = yes
				}
			}
			order_by = political_movement_radicalism
			position = 0
			check_range_bounds = no
			add_modifier = { name = modifier_shuttered_camilos_club days = normal_modifier_time }
		}
		add_radicals = {
			pop_type = academics
			value = large_radicals
		}
	}

	option = {
		name = devorismo.3.b
		ordered_political_movement = {
			limit = {
				OR = {
					movement_is_socialist = yes
					movement_is_liberal = yes
				}
			}
			order_by = political_movement_radicalism
			position = 0
			check_range_bounds = no
			add_modifier = { name = modifier_untouched_camilos_club days = normal_modifier_time }
		}
		random_interest_group = {
			limit = {
				is_in_government = yes
				law_stance = {
					law = law_type:law_censorship
					value >= approve
				}
			}
			add_modifier = { name = modifier_untouched_camilos_club_ig days = normal_modifier_time }
		}
	}

	after = {
		hidden_effect = {
			scope:intelligentsia_ig_char ?= {
				set_character_immortal = no
			}
			scope:trade_unions_ig_char ?= {
				set_character_immortal = no
			}
		}
	}
}

# Devorismo - Burning of the Royal Exchequer
devorismo.4 = {
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = devorismo.4.t
	desc = devorismo.4.d
	flavor = devorismo.4.f

    event_image = {
		video = "ip4_bomb_throwing_anarchist"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	trigger = {
		# Triggered by Journal Entry
		any_political_movement = {
			OR = {
				movement_is_socialist = yes
				movement_is_liberal = yes
			}
		}
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		ordered_interest_group = {
			limit = {
				is_in_government = yes
			}
			order_by = ig_clout
			position = 0
			check_range_bounds = no
			leader = {
				set_character_immortal = yes
				save_scope_as = prime_minister_scope
			}
		}
		random_interest_group = {
			limit = {
				is_in_government = yes
				NOT = {
					scope:prime_minister_scope ?= leader
				}
			}
			leader = {
				set_character_immortal = yes
				save_scope_as = finance_minister_scope
			}
		}
	}

	option = {
		name = devorismo.4.a
		default_option = yes
		ordered_political_movement = {
			limit = {
				OR = {
					movement_is_socialist = yes
					movement_is_liberal = yes
				}
			}
			order_by = political_movement_radicalism
			position = 0
			check_range_bounds = no
			add_modifier = { name = modifier_burning_of_the_treasury days = normal_modifier_time }
		}
		add_radicals = {
			strata = middle
			value = large_radicals
		}
	}

	option = {
		name = devorismo.4.b
		trigger = {
			exists = scope:finance_minister_scope
		}
		add_radicals = {
			strata = middle
			value = medium_radicals
		}
		custom_tooltip = sack_finance_minister_tt
		scope:finance_minister_scope.interest_group ?= {
			add_modifier = {
				name = modifier_sacrificed_finance_minister
				days = normal_modifier_time
			}
		}
		hidden_effect = {
			scope:finance_minister_scope ?= {
				set_character_immortal = no
				kill_character = {
					hidden = yes
				}
			}
		}
	}

	after = {
		hidden_effect = {
			scope:prime_minister_scope ?= {
				set_character_immortal = no
			}
			if = {
				limit = {
					scope:finance_minister_scope ?= {
						is_immortal = yes
					}
				}
				scope:finance_minister_scope ?= {
					set_character_immortal = no
				}
			}
		}
	}
}

# Devorismo - Eaten Through
devorismo.5 = {
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = devorismo.5.t
	desc = devorismo.5.d
	flavor = devorismo.5.f

    event_image = {
		video = "votp_realist_household"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = devorismo.5.a
		default_option = yes
		add_modifier = {
			name = modifier_wreckage_of_devorismo_country
			days = normal_modifier_time
		}
		every_interest_group = {
			limit = {
				is_in_government = yes
			}
			add_modifier = {
				name = modifier_wreckage_of_devorismo
				days = long_modifier_time
			}
		}
	}

	option = {
		name = devorismo.5.b
		add_radicals = {
			strata = lower
			value = medium_radicals
		}
		every_interest_group = {
			limit = {
				is_in_government = yes
			}
			add_modifier = {
				name = modifier_wreckage_of_devorismo
				days = long_modifier_time
				multiplier = 0.5
			}
		}
	}
}

# Devorismo - Liberal Victory
devorismo.6 = {
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = devorismo.6.t
	desc = devorismo.6.d
	flavor = devorismo.6.f

    event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		random_interest_group = {
			limit = {
				is_interest_group_type = ig_intelligentsia
			}
			save_scope_as = septemberist_ig
		}
	}

	option = {
		name = devorismo.6.a
		default_option = yes
		add_modifier = {
			name = modifier_replaced_charter_of_1826
			days = long_modifier_time
		}
		add_radicals = {
			value = large_radicals
			pop_type = aristocrats
		}
		add_radicals = {
			value = large_radicals
			pop_type = capitalists
		}
	}

	option = {
		name = devorismo.6.b
		add_modifier = {
			name = modifier_amended_charter_of_1826
			days = long_modifier_time
		}
		ig:ig_intelligentsia ?= {
			add_modifier = {
				name = modifier_portugal_great_retreat
				days = normal_modifier_time
			}
		}
		ig:ig_petty_bourgeoisie ?= {
			add_modifier = {
				name = modifier_portugal_great_retreat_positive
				days = normal_modifier_time
			}
		}
	}
}

namespace = second_liberalism

second_liberalism.1 = { # Second Liberalism - Victory
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = second_liberalism.1.t
	desc = second_liberalism.1.d
	flavor = second_liberalism.1.f

    event_image = {
		video = "southamerica_election"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = second_liberalism.1.a
		default_option = yes
		if = {
			limit = {
				country_has_voting_franchise = yes
			}
			add_modifier = {
				name = modifier_portugal_liberal_hegemony
				days = stupidly_long_modifier_time
				is_decaying = yes
			}
		}
		else = {
			add_modifier = {
				name = modifier_portugal_liberal_hegemony_no_voting
				days = stupidly_long_modifier_time
				is_decaying = yes
			}
		}
	}

	option = {
		name = second_liberalism.1.b
		custom_tooltip = second_liberalism_ideologies_tt
		set_variable = por_second_liberalism_victory
		add_loyalists = {
			value = large_radicals
			strata = middle
		}
		add_loyalists = {
			value = medium_radicals
			strata = lower
		}
	}
}

second_liberalism.2 = { # Second Liberalism - Republic
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = second_liberalism.2.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = second_liberalism.2.d_1
				trigger = {
					has_law = law_type:law_republic
				}
			}
			triggered_desc = {
				desc = second_liberalism.2.d_2
				trigger = {
					has_law = law_type:law_council_republic
				}
			}
			triggered_desc = {
				desc = second_liberalism.2.d_3
				trigger = {
					has_law = law_type:law_theocracy
				}
			}
		}
	}
	flavor = second_liberalism.2.f

    event_image = {
		video = "ip4_abdication"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
	}

	option = {
		name = second_liberalism.2.a
		default_option = yes
		every_political_movement = {
			limit = {
				OR = {
					is_political_movement_type = movement_royalist_constitutional
					is_political_movement_type = movement_miguelist
				}
			}
			add_modifier = {
				name = modifier_second_liberalism_over
				days = long_modifier_time
				is_decaying = yes
			}
		}
	}

	option = {
		name = second_liberalism.2.b
		add_radicals = {
			value = medium_radicals
			strata = middle
		}
	}
}

second_liberalism.3 = { # Second Liberalism - Miguelists
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = second_liberalism.3.t
	desc = second_liberalism.3.d
	flavor = second_liberalism.3.f

    event_image = {
		video = "ip4_abdication"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		ruler = {
			save_scope_as = miguelist_claimant_scope
			set_character_immortal = yes
		}
	}

	option = {
		name = second_liberalism.3.a
		default_option = yes
		add_modifier = {
			name = modifier_unabashed_reaction
			days = long_modifier_time
		}
	}

	option = {
		name = second_liberalism.3.b
		add_modifier = {
			name = modifier_traditionalism_over_conservatism
			days = long_modifier_time
		}
		add_radicals = {
			value = medium_radicals
			pop_type = aristocrats
		}
	}

	after = {
		hidden_effect = {
			scope:miguelist_claimant_scope ?= {
				set_character_immortal = no
			}
		}
	}
}

namespace = portugal_regeneration

portugal_regeneration.1 = { # Regeneration Start
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = portugal_regeneration.1.t
	desc = portugal_regeneration.1.d
	flavor = portugal_regeneration.1.f

    event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		ordered_interest_group = {
			limit = {
				is_in_government = yes
			}
			order_by = ig_clout
			position = 0
			check_range_bounds = no
			leader = {
				save_scope_as = pm_scope
				set_character_immortal = yes
			}
		}
	}

	option = {
		name = portugal_regeneration.1.a
		default_option = yes
		custom_tooltip = regeneration_begins_tt
		ig:ig_petty_bourgeoisie ?= {
			add_ideology = ideology_regenerator
		}
	}

	after = {
		hidden_effect = {
			scope:pm_scope ?= {
				set_character_immortal = no
			}
		}
	}
}

portugal_regeneration.2 = { # Regeneration Completed
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = portugal_regeneration.2.t
	desc = portugal_regeneration.2.d
	flavor = portugal_regeneration.2.f

    event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = portugal_regeneration.2.a
		default_option = yes
		add_modifier = {
			name = modifier_regenerated_portugal
			days = very_long_modifier_time
			is_decaying = yes
		}
		active_law:lawgroup_economic_system ?= {
			add_amendment = {
				type = amendment_economic_regeneration_1
				sponsor = PREV.ig:ig_industrialists
				cooldown = 240
			}
		}
	}

	option = {
		name = portugal_regeneration.2.b
		ruler = {
			add_modifier = {
				name = modifier_successful_regeneration
				days = very_long_modifier_time
			}
		}
		ordered_interest_group = {
			limit = {
				is_in_government = yes
				OR = {
					is_interest_group_type = ig_petty_bourgeoisie
					is_interest_group_type = ig_intelligentsia
					is_interest_group_type = ig_industrialists
					is_interest_group_type = ig_trade_unions
				}
			}
			order_by = ig_clout
			position = 0
			check_range_bounds = no
			leader = {
				add_modifier = {
					name = modifier_successful_regeneration
					days = very_long_modifier_time
				}
			}
		}
		add_modifier = {
			name = modifier_regenerated_portugal
			days = very_long_modifier_time
			multiplier = 0.5
			is_decaying = yes
		}
		active_law:lawgroup_economic_system ?= {
			add_amendment = {
				type = amendment_economic_regeneration_2
				sponsor = PREV.ig:ig_industrialists
				cooldown = 240
			}
		}
	}
}

portugal_regeneration.3 = { # Regeneration Failed
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = portugal_regeneration.3.t
	desc = portugal_regeneration.3.d
	flavor = portugal_regeneration.3.f

    event_image = {
		video = "unspecific_factory_closed"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = portugal_regeneration.3.a
		default_option = yes
		ruler = {
			add_modifier = {
				name = modifier_failed_regeneration
				days = very_long_modifier_time
			}
		}
		ordered_interest_group = {
			limit = {
				is_in_government = yes
				OR = {
					is_interest_group_type = ig_petty_bourgeoisie
					is_interest_group_type = ig_intelligentsia
					is_interest_group_type = ig_industrialists
					is_interest_group_type = ig_trade_unions
				}
			}
			order_by = ig_clout
			position = 0
			check_range_bounds = no
			leader = {
				add_modifier = {
					name = modifier_failed_regeneration
					days = very_long_modifier_time
				}
			}
		}
	}
}

portugal_regeneration.4 = { # Agriculture Completed
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = portugal_regeneration.4.t
	desc = portugal_regeneration.4.d
	flavor = portugal_regeneration.4.f

    event_image = {
		video = "ip4_colonial_exploitation_going_well"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		ig:ig_rural_folk ?= {
			save_scope_as = rural_ig
		}
	}

	option = {
		name = portugal_regeneration.4.a
		default_option = yes
		add_modifier = {
			name = modifier_regenerated_countryside
			days = very_long_modifier_time
			is_decaying = yes
		}
	}

	option = {
		name = portugal_regeneration.4.b
		add_loyalists = {
			value = large_radicals
			pop_type = farmers
		}
		custom_tooltip = por_increased_rural_regenerator_likelihood_50_tt
		scope:rural_ig ?= {
			set_variable = { name = por_increased_regenerator_likelihood value = 50 }
			add_modifier = {
				name = modifier_regeneration_ig_bonus
				days = very_long_modifier_time
				is_decaying = yes
			}
		}
	}
}

portugal_regeneration.5 = { # Public Works Completed
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = portugal_regeneration.5.t
	desc = portugal_regeneration.5.d
	flavor = portugal_regeneration.5.f

    event_image = {
		video = "unspecific_trains"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = portugal_regeneration.5.a
		default_option = yes
		add_modifier = {
			name = modifier_portugal_rail_network
			days = very_long_modifier_time
			is_decaying = yes
		}
	}

	option = {
		name = portugal_regeneration.5.b
		add_loyalists = {
			value = large_radicals
			strata = upper
		}
		add_loyalists = {
			value = medium_radicals
			strata = middle
		}
		add_modifier = {
			name = modifier_practical_politics
			days = very_long_modifier_time
			is_decaying = yes
		}
	}
}

portugal_regeneration.6 = { # Institutions Completed
	type = country_event
	placement = root

	duration = 3

	dlc = dlc016

	title = portugal_regeneration.6.t
	desc = portugal_regeneration.6.d
	flavor = portugal_regeneration.6.f

    event_image = {
		video = "ip4_university_lecture"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	trigger = {
		# Triggered by Journal Entry
	}

	cooldown = { days = never_fire_again_modifier_time }

	cancellation_trigger = {

	}

	immediate = {
		ig:ig_intelligentsia ?= {
			save_scope_as = intelligentsia_ig
		}
		ig:ig_petty_bourgeoisie ?= {
			save_scope_as = pb_ig
		}
	}

	option = {
		name = portugal_regeneration.6.a
		default_option = yes
		add_modifier = { # Coup-Proofing
			name = modifier_portugal_education_reforms
			days = very_long_modifier_time
			is_decaying = yes
		}
		custom_tooltip = por_increased_intelligentsia_regenerator_likelihood_50_tt
		scope:intelligentsia_ig ?= {
			set_variable = { name = por_increased_regenerator_likelihood value = 50 }
			add_modifier = {
				name = modifier_regeneration_ig_bonus
				days = very_long_modifier_time
				is_decaying = yes
			}
		}
	}

	option = {
		name = portugal_regeneration.6.b
		add_modifier = { # Coup-Proofing
			name = modifier_portugal_institutions_modifier
			days = very_long_modifier_time
			is_decaying = yes
		}
		custom_tooltip = por_increased_pb_regenerator_likelihood_50_tt
		scope:pb_ig ?= {
			set_variable = { name = por_increased_regenerator_likelihood value = 50 }
			add_modifier = {
				name = modifier_regeneration_ig_bonus
				days = very_long_modifier_time
				is_decaying = yes
			}
		}
	}
}
