# For je_philippines_main

# Ilustrados Button
je_philippines_main_ilustrado_button = {
	name = je_philippines_main_ilustrado_button
	desc = je_philippines_main_ilustrado_button_desc

	visible = {
		NOT = {
			has_variable = je_philippines_main_ilustrado_button_happened
		}
	}

	possible = {
		custom_tooltip = {
			text = je_philippines_development_complete
			has_variable = phi_dev_done
		}
        AND = {
            OR = {
                has_law_or_variant = law_type:law_freedom_of_conscience
                has_law_or_variant = law_type:law_total_separation
            }
            OR = {
                has_law_or_variant = law_type:law_right_of_assembly
                has_law_or_variant = law_type:law_protected_speech
            }
            NOT = {
                has_law_or_variant = law_type:law_no_schools
            }
        }
        ig:ig_intelligentsia ?= {
            ig_counts_as_marginal = no
        }
	}

	selected = {
		has_variable = je_philippines_main_ilustrado_button_happened
	}

	effect = {
		trigger_event = {
				id = philippines.5
				days = 0
				popup = yes
		}
		set_variable = je_philippines_main_ilustrado_button_happened
	}

	ai_chance = {
		value = 10
	}
}

# Mindanao Colonization Button
je_filipino_ethnogenesis_colonization_button = {
	name = je_filipino_ethnogenesis_colonization_button
	desc = je_filipino_ethnogenesis_colonization_button_desc

	visible = {
		s:STATE_MINDANAO = {
			any_scope_state = {
				owner = {
					is_country_type = decentralized
				}
			}
		}
		NOT = {
			has_variable = je_filipino_ethnogenesis_colonization_button_var
		}
	}

	possible = {
		s:STATE_MINDANAO = {
			any_scope_state = {
				owner = {
					is_country_type = decentralized
				}
			}
			any_scope_state = {
				owner = root
				has_decree = decree_greener_grass_campaign
			}
		}
	}

	effect = {
		set_variable = je_filipino_ethnogenesis_colonization_button_var
		if = {
			limit = {
				has_law_or_variant = law_type:law_no_colonial_affairs
			}
			activate_law = law_type:law_frontier_colonization
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_MINDANAO
			}
			add_modifier = {
				name = modifier_integrating_the_highlands
				days = long_modifier_time
			}
		}
		add_modifier = {
			name = modifier_settling_the_highlands_cost
			days = long_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}

	ai_chance = {
		value = 10
	}
}
