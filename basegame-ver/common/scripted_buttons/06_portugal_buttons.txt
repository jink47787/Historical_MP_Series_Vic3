je_portugal_and_brazil_pedro_button = {
	name = je_portugal_and_brazil_pedro_button
	desc = je_portugal_and_brazil_pedro_button_desc

	visible = {
		has_dlc_feature = rp1_content
		exists = c:BRZ
		c:BRZ ?= {
			has_journal_entry = je_pedro_brazil
		}
		NOT = {
			has_variable = je_portugal_and_brazil_pedro_button_var
		}
	}

	possible = {
		c:BRZ ?= {
			custom_tooltip = {
				text = ruled_by_pedro_tt
				ruler = {
					has_template = BRZ_emperor_pedro_02
				}
			}
			custom_tooltip = {
				text = pedropoint_danger_tt
				var:pedropoints <= 5
			}
		}
		AND = {
			"c:BRZ.relations(root)" > relations_threshold:amicable
			custom_tooltip = {
				text = por_prestige_greater_or_equal_brz_tt
				c:POR.prestige >= c:BRZ.prestige
			}
		}
	}

	selected = {
	}

	effect = {
		save_scope_as = portugal_scope
		set_variable = je_portugal_and_brazil_pedro_button_var
		c:BRZ ?= {
			trigger_event = { id = lusofonia.2 }
		}
		custom_tooltip = je_portugal_and_brazil_pedro_button_if_they_decline_tt
		show_as_tooltip = {
			custom_tooltip = if_they_accept_tt
			c:BRZ ?= {
				add_pedropoint_effect_2 = yes
				random_scope_character = {
					limit = {
						has_template = BRZ_emperor_pedro_02
					}
					add_modifier = { name = modifier_portuguese_diplomatic_assistance days = long_modifier_time }
				}
				set_owes_obligation_to = {
					country = scope:portugal_scope
					setting = yes
				}
			}
		}
	}

	ai_chance = {
		value = 1
	}
}

je_portugal_and_brazil_pursue_united_kingdom_button = { # Insanity
	name = je_portugal_and_brazil_pursue_united_kingdom_button
	desc = je_portugal_and_brazil_pursue_united_kingdom_button_desc

	visible = {
		exists = c:BRZ
		NOT = {
			has_variable = je_portugal_and_brazil_pursue_united_kingdom_button_var
		}
	}

	possible = {
		AND = {
			custom_tooltip = {
				text = por_gdp_above_brz_gdp_tt
				c:POR.gdp > c:BRZ.gdp
			}
			custom_tooltip = {
				text = por_prestige_above_brz_prestige_tt
				c:POR.prestige > c:BRZ.prestige
			}
		}
	}

	selected = {
	}

	effect = {
		set_variable = je_portugal_and_brazil_pursue_united_kingdom_button_var
		add_journal_entry = { type = je_portugal_united_kingdom }
	}

	ai_chance = {
		value = 1
	}
}
