je_spa_economic_regeneration_reduce_economic_objectives_button = {
	name = je_spa_economic_regeneration_reduce_economic_objectives_button
	desc = je_spa_economic_regeneration_reduce_economic_objectives_button_desc

	visible = {
		has_variable = economic_regeneration_started_var
	}

	possible = {
		custom_tooltip = {
			text = je_spa_economic_regeneration_reduce_economic_objectives_button_tt_1
			var:spa_economic_regeneration_var <= 3
			NOT = {
				has_variable = reduced_economic_objectives_var
			}
		}
	}

	selected = {
		has_variable = reduced_economic_objectives_var
	}

	effect = {
		custom_tooltip = {
			text = je_spa_economic_regeneration_reduce_economic_objectives_button_tt_2
			set_variable = reduced_economic_objectives_var
	        set_variable = {
	            name = spa_economic_regeneration_goal_var
	            value = 3
	        }
		}
		custom_tooltip = je_spa_economic_regeneration_reduce_economic_objectives_button_tt_3
		add_radicals = {
			value = small_radicals
		}
		add_modifier = {
			name = modifier_reduced_economic_objectives
			days = normal_modifier_time
		}
	}

	ai_chance = {
		value = 1
	}
}

je_spa_economic_regeneration_cheat_button = {
	name = je_spa_economic_regeneration_cheat_button
	desc = je_spa_economic_regeneration_cheat_button_desc

	visible = {
		always = yes
	}

	possible = {
		NOT = {
			has_modifier = modifier_bureaucratic_interference
		}
	}

	selected = {
		scope:journal_entry = {
			has_variable = je_spa_economic_regeneration_creative_accounting_var
		}
	}

	effect = { # Do you think God stays in heaven because he, too, lives in fear of what he's created here on earth? NB: As soon as a nother law is added to this law group, this will have to be recalculated
		set_variable = je_spa_economic_regeneration_cheats_var
		random_list = {
			0 = {
				modifier = {
					if = {
						limit = { has_law = law_type:law_outlawed_dissent }
						add = 90
					}
					if = {
						limit = { has_law = law_type:law_censorship }
						add = 70
					}
					if = {
						limit = { has_law = law_type:law_right_of_assembly }
						add = 40
					}
					if = {
						limit = { has_law = law_type:law_protected_speech }
						add = 20
					}
					if = {
						limit = {
						    owner.institution:institution_home_affairs.investment >= 1
						}
						add = {
						    value = 10
						    multiply = owner.institution:institution_home_affairs.investment
						}
					}
				}
				custom_tooltip = je_spa_economic_regeneration_cheat_button_success_tt
				scope:journal_entry = {
					set_variable = je_spa_economic_regeneration_creative_accounting_var
				}
			}
			0 = {
				modifier = {
					if = {
						limit = { has_law = law_type:law_outlawed_dissent }
						add = 10
					}
					if = {
						limit = { has_law = law_type:law_censorship }
						add = 30
					}
					if = {
						limit = { has_law = law_type:law_right_of_assembly }
						add = 60
					}
					if = {
						limit = { has_law = law_type:law_protected_speech }
						add = 80
					}
					if = {
						limit = {
						    owner.institution:institution_home_affairs.investment >= 1
						}
						add = {
						    value = -10
						    multiply = owner.institution:institution_home_affairs.investment
						}
					}
				}
				custom_tooltip = je_spa_economic_regeneration_cheat_button_caught_tt
				trigger_event = {
					id = spa_economic_regeneration_events.2
					popup = yes
				}
				### The following (clunky) script is here to get around the inability of buttons to pass scopes in the manner I want them to, and lets the spa_economic_regeneration_events.2 know which JE is actually affected
				if = {
					limit = {
						scope:journal_entry = {
							je:je_spa_economic_regeneration_mining ?= this
						}
					}
					set_variable = {
						name = je_spa_economic_regeneration_mining_caught_var
						days = very_short_modifier_time
					}
				}
				else_if = {
					limit = {
						scope:journal_entry = {
							je:je_spa_economic_regeneration_light_industry ?= this
						}
					}
					set_variable = {
						name = je_spa_economic_regeneration_light_industry_caught_var
						days = very_short_modifier_time
					}
				}
				else_if = {
					limit = {
						scope:journal_entry = {
							je:je_spa_economic_regeneration_land_reform ?= this
						}
					}
					set_variable = {
						name = je_spa_economic_regeneration_land_reform_caught_var
						days = very_short_modifier_time
					}
				}
				else_if = {
					limit = {
						scope:journal_entry = {
							je:je_spa_economic_regeneration_railways ?= this
						}
					}
					set_variable = {
						name = je_spa_economic_regeneration_railways_caught_var
						days = very_short_modifier_time
					}
				}
				else_if = {
					limit = {
						scope:journal_entry = {
							je:je_spa_economic_regeneration_modernise_agriculture ?= this
						}
					}
					set_variable = {
						name = je_spa_economic_regeneration_modernise_agriculture_caught_var
						days = very_short_modifier_time
					}
				}
				else_if = {
					limit = {
						scope:journal_entry = {
							je:je_spa_economic_regeneration_ultramar ?= this
						}
					}
					set_variable = {
						name = je_spa_economic_regeneration_ultramar_caught_var
						days = very_short_modifier_time
					}
				}
			}
		}
		custom_tooltip = je_spa_economic_regeneration_cheat_button_conditions_tt
		add_modifier = {
			name = modifier_bureaucratic_interference
			days = short_modifier_time
		}
	}
	ai_chance = {
		value = 1
	}
}
