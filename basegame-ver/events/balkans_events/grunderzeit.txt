namespace = grunderzeit

grunderzeit.1 = {
	type = country_event
	placement = root
	title = grunderzeit.1.t
	desc = grunderzeit.1.d
	flavor = grunderzeit.1.f
	duration = 3
	dlc = dlc014

	event_image = {
		video = "unspecific_factory_closed"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		# Triggered by JE
	}

	immediate = {

	}

	option = {
		name = grunderzeit.1.a
		default_option = yes
		show_as_tooltip = {
			remove_modifier = modifier_grunderzeit_boom
		}
		if = {
			limit = {
				has_variable = grunderzeit_participant_low_var
			}
			add_modifier = {
				name = modifier_grunderkrach
				days = normal_modifier_time
				multiplier = 0.5
			}
		}
		else = {
			add_modifier = {
				name = modifier_grunderkrach
				days = normal_modifier_time
			}
			add_radicals = {
				value = small_radicals
			}
		}
		if = {
			limit = {
				has_variable = grunderzeit_participant_low_var
			}
			every_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_free_trade
						value >= approve
					}
				}
				add_modifier = {
					name = modifier_grunderkrach_blame_free_trade
					days = normal_modifier_time
					multiplier = 0.5
				}
			}
		}
		else = {
			every_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_free_trade
						value >= approve
					}
				}
				add_modifier = {
					name = modifier_grunderkrach_blame_free_trade
					days = normal_modifier_time
				}
			}
		}
	}

	option = {
		name = grunderzeit.1.b
		show_as_tooltip = {
			remove_modifier = modifier_grunderzeit_boom
		}
		if = {
			limit = {
				has_variable = grunderzeit_participant_low_var
			}
			add_modifier = {
				name = modifier_grunderkrach
				days = normal_modifier_time
				multiplier = 0.5
			}
		}
		else = {
			add_modifier = {
				name = modifier_grunderkrach
				days = normal_modifier_time
			}
			add_radicals = {
				value = small_radicals
			}
		}
		if = {
			limit = {
				has_variable = grunderzeit_participant_low_var
			}
			add_modifier = {
				name = modifier_grunderkrach_blame_minorities
				days = normal_modifier_time
				multiplier = 0.5
			}
			every_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_ethnostate
						value >= approve
					}
				}
				add_modifier = {
					name = modifier_grunderkrach_blame_minorities_ig_boost
					days = normal_modifier_time
					multiplier = 0.5
				}
			}
		}
		else = {
			add_modifier = {
				name = modifier_grunderkrach_blame_minorities
				days = normal_modifier_time
			}
			every_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_ethnostate
						value >= approve
					}
				}
				add_modifier = {
					name = modifier_grunderkrach_blame_minorities_ig_boost
					days = normal_modifier_time
				}
			}
		}
	}
}

grunderzeit.2 = {
	type = country_event
	placement = root
	title = grunderzeit.2.t
	desc = grunderzeit.2.d
	flavor = grunderzeit.2.f
	duration = 3
	dlc = dlc014

	event_image = {
		video = "unspecific_gears_pistons"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	trigger = {
		# Triggered by JE
	}

	immediate = {
	}

	option = {
		name = grunderzeit.2.a
		default_option = yes
		show_as_tooltip = {
			remove_modifier = modifier_grunderzeit_boom
		}
		if = {
			limit = {
				has_variable = grunderzeit_participant_low_var
			}
			add_modifier = {
				name = modifier_grunderyears_success
				days = normal_modifier_time
				multiplier = 0.5
			}
		}
		else = {
			add_modifier = {
				name = modifier_grunderyears_success
				days = normal_modifier_time
			}
		}
	}

	option = {
		name = grunderzeit.2.b
		show_as_tooltip = {
			remove_modifier = modifier_grunderzeit_boom
		}
		if = {
			limit = {
				has_variable = grunderzeit_participant_low_var
			}
			add_modifier = {
				name = modifier_grunderyears_success_2
				days = normal_modifier_time
				multiplier = 0.5
			}
		}
		else = {
			add_modifier = {
				name = modifier_grunderyears_success_2
				days = normal_modifier_time
			}
		}
	}
}


grunderzeit.3 = {
	type = country_event
	placement = root
	title = grunderzeit.3.t
	desc = grunderzeit.3.d
	flavor = grunderzeit.3.f
	duration = 3
	dlc = dlc014

	event_image = {
		video = "unspecific_trains"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	trigger = {
		# Triggered by JE
	}

	immediate = {
	}

	option = {
		name = grunderzeit.3.a
		default_option = yes
		show_as_tooltip = {
			add_journal_entry = {
				type = je_grunderzeit
			}
			custom_tooltip = grunderzeit_expectations_tt
			je:je_grunderzeit = {
				add_modifier = {
					name = modifier_grunderzeit_boom
				}
			}
		}
		custom_tooltip = {
			text = grunderzeit_participant_high
		}
		custom_tooltip = grunderzeit_bonus_last_tt
	}

	option = {
		name = grunderzeit.3.b
		show_as_tooltip = {
			add_journal_entry = {
				type = je_grunderzeit
			}
			custom_tooltip = grunderzeit_expectations_tt
		}
		je:je_grunderzeit = {
			hidden_effect = {
				remove_modifier = modifier_grunderzeit_boom
			}
			add_modifier = {
				name = modifier_grunderzeit_boom
				multiplier = 0.5
			}
		}
		custom_tooltip = {
			text = grunderzeit_participant_low
			set_variable = grunderzeit_participant_low_var
		}
		custom_tooltip = grunderzeit_bonus_last_tt
	}
}
