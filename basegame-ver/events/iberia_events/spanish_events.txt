namespace = spanish_events

# Catalan reneissance
spanish_events.1 = {
	type = country_event
	placement = scope:catalan_state_scope

	duration = 3

	dlc = dlc016

	title = spanish_events.1.t
	desc = spanish_events.1.d
	flavor = spanish_events.1.f

    event_image = {
		video = "ip4_university_lecture"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		c:SPA ?= this
		any_scope_state = {
			state_region = {
				is_homeland = cu:catalan
			}
		}
		has_technology_researched = romanticism
		has_technology_researched = nationalism
		NOT = {
			has_variable = spanish_regionalism_cooldown_var
		}
	}

	immediate = {
		ordered_scope_state = {
			limit = {
				state_region = {
					is_homeland = cu:catalan
				}
			}
			order_by = gdp
			position = 0
			save_scope_as = catalan_state_scope
		}
		set_variable = {
			name = spanish_regionalism_cooldown_var
			days = normal_modifier_time
		}
	}

	option = {
		name = spanish_events.1.a
		default_option = yes
		start_national_awakening = {
			culture = cu:catalan
			months = 240
			state_region = scope:catalan_state_scope.state_region
		}
		add_modifier = {
			name = modifier_catalan_literary_revival
			days = normal_modifier_time
		}
	}
	option = {
		name = spanish_events.1.b
		highlighted_option = yes
		show_as_unavailable = { always = yes }
		trigger = {
			institution_investment_level = {
				institution = institution_home_affairs
				value >= 1
			}
		}
		add_radicals = {
			culture = cu:catalan
			value = small_radicals
		}
		start_national_awakening = {
			culture = cu:catalan
			months = 120
			state_region = scope:catalan_state_scope.state_region
		}
	}
	option = {
		name = spanish_events.1.c
		highlighted_option = yes
		show_as_unavailable = { always = yes }
		trigger = {
			has_law = law_type:law_subjecthood
		}
		start_national_awakening = {
			culture = cu:catalan
			months = 60
			state_region = scope:catalan_state_scope.state_region
		}
		add_radicals = {
			culture = cu:spanish
			value = small_radicals
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = cu:catalan
				}
			}
			add_modifier = {
				name = modifier_empowered_catalan_fueros
				days = normal_modifier_time
			}
		}
	}
}


# Galician reneissance
spanish_events.2 = {
	type = country_event
	placement = scope:galician_state_scope

	duration = 3

	dlc = dlc016

	title = spanish_events.2.t
	desc = spanish_events.2.d
	flavor = spanish_events.2.f

    event_image = {
		video = "ip4_university_lecture"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		c:SPA ?= this
		any_scope_state = {
			state_region = {
				is_homeland = cu:galician
			}
		}
		has_technology_researched = romanticism
		has_technology_researched = nationalism
		NOT = {
			has_variable = spanish_regionalism_cooldown_var
		}
	}

	immediate = {
		ordered_scope_state = { # There's only one of these in-game now, so currently redundant.
			limit = {
				state_region = {
					is_homeland = cu:galician
				}
			}
			order_by = gdp
			position = 0
			save_scope_as = galician_state_scope
		}
		set_variable = {
			name = spanish_regionalism_cooldown_var
			days = normal_modifier_time
		}
	}

	option = {
		name = spanish_events.2.a
		default_option = yes
		start_national_awakening = {
			culture = cu:galician
			months = 240
			state_region = scope:galician_state_scope.state_region
		}
		add_modifier = {
			name = modifier_galician_literary_revival
			days = normal_modifier_time
		}
	}
	option = {
		name = spanish_events.2.b
		highlighted_option = yes
		show_as_unavailable = { always = yes }
		trigger = {
			institution_investment_level = {
				institution = institution_home_affairs
				value >= 1
			}
		}
		add_radicals = {
			culture = cu:galician
			value = very_small_radicals
		}
		start_national_awakening = {
			culture = cu:galician
			months = 120
			state_region = scope:galician_state_scope.state_region
		}
	}
	option = {
		name = spanish_events.2.c
		highlighted_option = yes
		show_as_unavailable = { always = yes }
		trigger = {
			has_law = law_type:law_subjecthood
		}
		start_national_awakening = {
			culture = cu:galician
			months = 60
			state_region = scope:galician_state_scope.state_region
		}
		add_radicals = {
			culture = cu:spanish
			value = very_small_radicals
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = cu:galician
				}
			}
			add_modifier = {
				name = modifier_empowered_galician_fueros
				days = normal_modifier_time
			}
		}
	}
}

# Asturian reneissance
spanish_events.3 = {
	type = country_event
	placement = scope:asturleonese_state_scope

	duration = 3

	dlc = dlc016

	title = spanish_events.3.t
	desc = spanish_events.3.d
	flavor = spanish_events.3.f

    event_image = {
		video = "ip4_university_lecture"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		c:SPA ?= this
		any_scope_state = {
			state_region = {
				is_homeland = cu:asturleonese
			}
		}
		has_technology_researched = romanticism
		has_technology_researched = nationalism
		NOT = {
			has_variable = spanish_regionalism_cooldown_var
		}
	}

	immediate = {
		ordered_scope_state = {
			limit = {
				state_region = {
					is_homeland = cu:asturleonese
				}
			}
			order_by = gdp
			position = 0
			save_scope_as = asturleonese_state_scope
		}
		set_variable = {
			name = spanish_regionalism_cooldown_var
			days = normal_modifier_time
		}
	}

	option = {
		name = spanish_events.3.a
		default_option = yes
		start_national_awakening = {
			culture = cu:asturleonese
			months = 240
			state_region = scope:asturleonese_state_scope.state_region
		}
		add_modifier = {
			name = modifier_asturleonese_literary_revival
			days = normal_modifier_time
		}
	}
	option = {
		name = spanish_events.3.b
		highlighted_option = yes
		show_as_unavailable = { always = yes }
		trigger = {
			institution_investment_level = {
				institution = institution_home_affairs
				value >= 1
			}
		}
		add_radicals = {
			culture = cu:asturleonese
			value = very_small_radicals
		}
		start_national_awakening = {
			culture = cu:asturleonese
			months = 120
			state_region = scope:asturleonese_state_scope.state_region
		}
	}
	option = {
		name = spanish_events.3.c
		highlighted_option = yes
		show_as_unavailable = { always = yes }
		trigger = {
			has_law = law_type:law_subjecthood
		}
		start_national_awakening = {
			culture = cu:asturleonese
			months = 60
			state_region = scope:asturleonese_state_scope.state_region
		}
		add_radicals = {
			culture = cu:spanish
			value = very_small_radicals
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = cu:asturleonese
				}
			}
			add_modifier = {
				name = modifier_empowered_asturleonese_fueros
				days = normal_modifier_time
			}
		}
	}
}
