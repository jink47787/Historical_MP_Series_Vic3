namespace = vernacular_events

# Startup event
vernacular_events.1 = {
	type = country_event
	placement = root

	duration = 3

	title = vernacular_events.1.t
	desc = vernacular_events.1.d
	flavor = vernacular_events.1.f

    event_image = {
		video = "votp_cops_march"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
	}

	cancellation_trigger = {

	}

	immediate = {
		s:STATE_WALLONIA = {
			save_scope_as = wallonia_state_region_scope
		}
		if = {
			limit = {
				OR = {
					c:SPA ?= this
					was_formed_from = SPA
				}
			}
			cu:spanish ={
				save_scope_as = official_culture_scope
			}
		}
		else_if = {
			limit = {
				OR = {
					c:FRA ?= this
					was_formed_from = FRA
				}
			}
			cu:french ={
				save_scope_as = official_culture_scope
			}
		}
	}

	option = {
		name = vernacular_events.1.a
		default_option = yes
		custom_tooltip = {
			text = vernacular_events.1.a_tt
			set_variable = chose_assimilation_var
		}
		if = {
			limit = {
				OR = {
					c:SPA ?= this
					was_formed_from = SPA
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:catalan
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:catalan
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:catalan
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:aragonese
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:aragonese
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:aragonese
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:asturleonese
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:asturleonese
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:asturleonese
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:galician
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:galician
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:galician
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:basque
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:basque
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:basque
					value = small_radicals
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					c:FRA ?= this
					was_formed_from = FRA
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:occitan
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:occitan
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:occitan
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:francoprovencal
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:francoprovencal
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:francoprovencal
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:breton
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:breton
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:breton
					value = small_radicals
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = {
							is_homeland = cu:wallonian
						}
					}
				}
				add_fervor_target_modifier = {
					culture = cu:wallonian
					days = normal_modifier_time
					multiplier = -20
				}
				add_radicals = {
					culture = cu:wallonian
					value = small_radicals
				}
			}
		}
		if = {
			limit = {
				OR = {
					c:FRA ?= this
					was_formed_from = FRA
				}
				any_scope_state = {
					state_region = s:STATE_WALLONIA
				}
			}
			s:STATE_WALLONIA = {
				add_homeland = cu:french
			}
		}
		else_if = {
			limit = {
				OR = {
					c:FRA ?= this
					was_formed_from = FRA
				}
				NOT = {
					any_scope_state = {
						state_region = s:STATE_WALLONIA
					}
				}
			}
			custom_tooltip = conquest_of_wallonia_tt
		}
		hidden_effect = {
			clear_variable_list = vernacular_policy_assimilation_states
			every_scope_state = {
				limit = {
					state_region = {
						is_homeland = scope:official_culture_scope
					}
					culture_percent_state = {
						target = scope:official_culture_scope
						value < 0.6
					}
				}
				root = {
					add_to_variable_list = {
						name = vernacular_policy_assimilation_states
						target = prev
					}
				}
			}
		}
	}

	option = {
		name = vernacular_events.1.b
		custom_tooltip = {
			text = vernacular_events.1.b_tt
			set_variable = chose_integration_var
		}
		add_radicals = {
			culture = cu:french
			value = medium_radicals
		}
		if = {
			limit = {
				OR = {
					c:SPA ?= this
					was_formed_from = SPA
				}
			}
			add_modifier = {
				name = modifier_spain_basque_integration_aid
			}
		}
		else_if = {
			limit = {
				OR = {
					c:FRA ?= this
					was_formed_from = FRA
				}
			}
			add_modifier = {
				name = modifier_france_breton_integration_aid
			}
		}
	}

	option = {
		name = vernacular_events.1.c
		custom_tooltip = {
			text = vernacular_events.1.c_tt
			set_variable = chose_to_not_care_var
		}
	}
}

#
vernacular_events.2 = {
	type = country_event
	placement = root

	duration = 3

	title = vernacular_events.2.t
	desc = vernacular_events.2.d
	flavor = vernacular_events.2.f

    event_image = {
		video = "southamerica_war_civilians"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
	}

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = vernacular_events.2.a
		default_option = yes
		add_loyalists = {
			culture = scope:official_culture_scope
			value = large_radicals
		}
		add_modifier = {
			name = modifier_increased_centralization
			days = long_modifier_time
		}
	}

	option = {
		name = vernacular_events.2.b
		if = {
			limit = {
				OR = {
					c:SPA ?= this
					was_formed_from = SPA
				}
			}
			if = {
				limit = {
					has_law = law_type:law_monarchy
				}
				add_modifier = {
					name = modifier_royal_spanish_academy
					days = long_modifier_time
				}
			}
			else = {
				add_modifier = {
					name = modifier_spanish_academy
					days = long_modifier_time
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					c:FRA ?= this
					was_formed_from = FRA
				}
			}
			add_modifier = {
				name = modifier_academie_francaise
				days = very_long_modifier_time
			}
		}
		custom_tooltip = vernacular_events.2.b_tt
		show_as_tooltip = {
			ordered_scope_state = {
				order_by = state_population
				position = 0
				limit = {
					is_homeland_of_country_cultures = root
				}
				add_modifier = {
					name = modifier_assimilation_reward
					days = long_modifier_time
				}
			}
		}
		hidden_effect = {
			every_scope_state = {
				limit = {
					is_homeland_of_country_cultures = root
				}
				add_modifier = {
					name = modifier_assimilation_reward
					days = long_modifier_time
				}
			}
		}
	}
}

vernacular_events.3 = {
	type = country_event
	placement = root

	duration = 3

	title = vernacular_events.3.t
	desc = vernacular_events.3.d
	flavor = vernacular_events.3.f

    event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
	}

	cancellation_trigger = {

	}

	immediate = {

	}

	option = {
		name = vernacular_events.3.a
		default_option = yes
		add_modifier = {
			name = modifier_cultural_dynamism
			days = very_long_modifier_time
		}
		every_primary_culture = {
			limit = {
				NOT = {
					scope:official_culture_scope ?= this
				}
			}
			root = {
				add_loyalists = {
					culture = prev
					value = medium_radicals
				}
			}
		}
	}

	option = {
		name = vernacular_events.3.b
		add_modifier = {
			name = modifier_strength_through_diversity
			days = very_long_modifier_time
		}
		add_modifier = {
			name = modifier_empowered_regional_administrations
			days = long_modifier_time
		}
	}
}
